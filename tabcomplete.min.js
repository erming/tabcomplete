/*! tabcomplete v1.3.1 */
!function(a){function c(b,c,d){return a.grep(c,function(a){return d?!a.indexOf(b):!a.toLowerCase().indexOf(b.toLowerCase())})}function d(b){var c=this,d=c.prev(".hint");c.css({backgroundColor:"transparent",position:"relative"}),d.length||(c.wrap(a("<div>").css({position:"relative"})),d=c.clone().attr("tabindex",-1).removeAttr("id name placeholder").addClass("hint").insertBefore(c),d.css({position:"absolute"}));var e="";if("undefined"!=typeof b){var f=c.val();e=f+b.substr(f.split(/ |\n/).pop().length)}d.val(e)}function e(a){var b=this,c=b.val();a&&(b.val(c+a.substr(c.split(/ |\n/).pop().length)),b[0].selectionStart=c.length)}var b={backspace:8,tab:9,up:38,down:40};a.fn.tab=a.fn.tabcomplete=function(f,g){if(this.length>1)return this.each(function(){a(this).tabcomplete(f,g)});var h=this.prop("tagName");if("INPUT"==h||"TEXTAREA"==h){g=a.extend({after:"",arrowKeys:!1,caseSensitive:!1,hint:"placeholder",minLength:1},g),this.unbind(".tabcomplete"),this.prev(".hint").remove();var i=this,j=!1,k=-1,l=[],m="",n=a.noop;switch(g.hint){case"placeholder":n=d;break;case"select":n=e}return this.on("input.tabcomplete",function(){var b=i.val(),d=b.split(/ |\n/).pop();k=-1,m="",l=[],i[0].selectionStart==b.length&&d.length&&(l="function"==typeof f?f(d):c(d,f,g.caseSensitive),g.after&&(l=a.map(l,function(a){return a+g.after}))),i.trigger("match",l.length),g.hint&&(("select"!=g.hint||!j)&&d.length>=g.minLength?n.call(i,l[0]):n.call(i,"")),j&&(j=!1)}),this.on("keydown.tabcomplete",function(a){var c=a.which;if(c==b.tab||g.arrowKeys&&(c==b.up||c==b.down)){if(a.preventDefault(),c!=b.up)k++;else{if(-1==k)return;0==k?k=l.length-1:k--}var d=l[k%l.length];if(!d)return;var e=i.val();if(m=m||e.split(/ |\n/).pop(),m.length<g.minLength)return;var f=e.substr(0,i[0].selectionStart-m.length)+d;i.val(f),"select"==g.hint&&(i[0].selectionStart=f.length),m=d,i.trigger("tabcomplete",m),g.hint&&n.call(i,"")}else a.which==b.backspace&&(j=!0,k=-1,m="")}),g.hint&&n.call(this,""),this}}}(jQuery);
